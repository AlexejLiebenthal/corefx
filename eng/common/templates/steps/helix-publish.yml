parameters:
  HelixSource: 'pr/dotnet-github-anon-kaonashi-bot'
  HelixType: Ì“'tests/default'
  HelixBuild: $(Build.BuildNumber)
  HelixCorrelationPayload: ''
  HelixTargetQueues: ''
  HelixAccessToken: ''
  HelixPreCommands: ''
  HelixPostCommands: ''
  WorkItemDirectory: ''
  WorkItemCommand: ''
  WorkItemArchiveWildCard: ''
  IncludeDotNetSdk: false
  EnableXUnitReporter: false
  WaitForWorkItemCompletion: true

variables:
  _msbuildArguments: --warnaserror false eng/common/helixpublish.proj /t:test /p:Language=msbuild

steps:
  variables:
    - ${{ if ne(parameters.agentOs, 'Windows_NT') }}:
      _msbuildScript: ./eng/common/msbuild.sh
    - ${{ if eq(parameters.agentOs, 'Windows_NT') }}:
      _msbuildScript: eng\common\msbuild.ps1
  - script: $(_msbuildScript)
      --warnaserror false eng/common/helixpublish.proj
      /t:test
      /p:Language=msbuild
    displayName: Send job to Helix
    env:
      HelixSource: ${{ parameters.HelixSource }}
      HelixType: ${{ parameters.HelixType }}
      HelixBuild: ${{ parameters.HelixBuild }}
      HelixTargetQueues: ${{ parameters.HelixTargetQueues }}
      HelixAccessToken: ${{ parameters.HelixAccessToken }}
      HelixPreCommands: ${{ parameters.HelixPreCommands }}
      HelixPostCommands: ${{ parameters.HelixPostCommands }}
      HelixCorrelationPayload: ${{ parameters.HelixCorrelationPayload }}
      IncludeDotNetSdk: ${{ parameters.IncludeDotNetSdk }}
      EnableXUnitReporter: ${{ parameters.EnableXUnitReporter }}
      WaitForWorkItemCompletion: ${{ parameters.WaitForWorkItemCompletion }}
      WorkItemDirectory: ${{ parameters.WorkItemDirectory }}
      WorkItemCommand: ${{ parameters.WorkItemCommand }}
      WorkItemArchiveWildCard: ${{ parameters.WorkItemArchiveWildCard }}
